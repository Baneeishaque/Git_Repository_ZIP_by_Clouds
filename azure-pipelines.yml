# Git_Zipper_Uploader_AzureDevOps pipeline

trigger:
- feature/ftp

pool:
  vmImage: 'ubuntu-latest'

steps:
# Check for Git
- script: git --version
  displayName: 'Check for Git'

# Clone Repository & Verify Clone
- script: |
    git clone https://github.com/QuarkLabs/i-have-a-theory
    echo 
    echo Repository Contents
    echo --------------------------------------------------------
    ls i-have-a-theory
  displayName: 'Clone Repository'

# Check for Zip
- script: zip --version
  displayName: 'Check for Zip'

# Compress Repository & Verify Compress
- script: |
    zip -r i-have-a-theory.zip i-have-a-theory 
    echo 
    echo Current Directory Contents
    echo --------------------------------------------------------
    ls
  displayName: 'Zip Repository'

# Upload Repository Zip File
- task: FtpUpload@1
  displayName: 'FTP Upload Repository Zip File'
  inputs:
    credentialsOption: inputs
    serverUrl: 'ftp://192.254.233.216'
    username: 'root@alaneesgroup.com'
    password: 9895204814
    rootDirectory: '.'
    remoteDirectory: '/azure_devops/git_zipper_uploader'
    filePatterns: '*.zip'